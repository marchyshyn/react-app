<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ReactAPP</title>
</head>
<body>
    <div id="root">

    </div>
    <div id="root2"></div>

    <script  src="react.js"></script>
    <script  src="react-dom.js"></script>

    <!--<script  src="react.development.js"></script>-->
    <!--<script  src="react-dom.development.js"></script>-->

    <script >

        var TextArea = React.createClass({
           propTypes: {
               name: React.PropTypes.string
           },
           getDefaultProps: function() {
             return {
                 name: ''
               }
           },
           getInitialState: function() {
              return {
                  name: this.props.name
              }
           },
            _log: function(methodName, args) {
                console.log(methodName, args);
            },
            componentWillUpdate: function() {
                this._log('componentWillUpdate', arguments);
            },
            componentDidUpdate: function() {
               if(this.state.name.length > 7){
                   this.replaceState({name: this.props.name});
               }
                this._log('componentDidUpdate', arguments);
            },
            componentWillMount: function() {
                this._log('componentWillMount', arguments);
            },
            componentDidMount: function() {
                this._log('componentDidMount', arguments);
            },
            componentWillUnmount: function() {
                this._log('componentWillUnmount', arguments);
            },
            _textChange: function(ev) {
              this.setState({
                 name: ev.target.value
              });
            },
           render: function() {
               return React.DOM.div(null,
                React.DOM.textarea({value: this.state.name, onChange: this._textChange}),
                React.DOM.h3(null, this.state.name.length)
               );
           }
        });

        ReactDOM.render(
            React.createElement(TextArea, {name: 'Andrii'}),
            document.getElementById('root')
        )


    </script>
</body>
</html>